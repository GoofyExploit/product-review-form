<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Review Form</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />
</head>

<body>
    <div class="form">
        <img class="banner" src="images/banner.webp" alt="">
        <div class="main">
            <h1>Product Review Form</h1>
            <form method="POST" enctype="multipart/form-data">
                <h3>How would you rate the product overall?</h3>
                <div class="rating-box1">
                    <div class="stars" id="starRating">
                        <i class="fa-solid fa-star" data-value="1"></i>
                        <i class="fa-solid fa-star" data-value="2"></i>
                        <i class="fa-solid fa-star" data-value="3"></i>
                        <i class="fa-solid fa-star" data-value="4"></i>
                        <i class="fa-solid fa-star" data-value="5"></i>
                    </div>
                    <input type="hidden" name="rating" id="rating" required>
                </div>
                <h3>Please rate the individual product features</h3>
                <p>Value for money</p>
                <div class="rating-box2">
                    <div class="stars">
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                    </div>
                </div>
                <p>Overall quality</p>
                <div class="rating-box1">
                    <div class="stars">
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                    </div>
                </div>
                <p>Features and functionality</p>
                <div class="rating-box2">
                    <div class="stars">
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                    </div>
                </div>
                <h3>Please tell us what do you think of this project</h3>
                <p>Review summary</p>
                <input class="inp1" type="text" name="reviewSummary" placeholder="What is most important to know?"
                    required>
                <p>Your Review</p>
                <input class="inp2" type="text" name="reviewDetail" placeholder="What did you like or dislike?"
                    required>
                <p>How likely are you to recommend this product to your friends or colleagues?</p>
                <div class="rating-box2">
                    <div class="stars">
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                    </div>
                </div>
                <div class="contact_info">
                    <h2>Contact Info</h2>
                    <p class="info">Please leave your email address if you would like to contact you regarding any
                        questions</p>
                    <div class="inp3">
                        <div class="name">
                            <label for="username">Name</label><br>
                            <input type="text" id="username" name="username"
                                style="height: 40px; width: 200px; margin-top: 10px;" required>
                        </div>
                        <div class="email">
                            <label for="email" style="position: relative; right: 130px;">Email</label><br>
                            <input type="email" id="email" name="email"
                                style="height: 40px; width: 200px; margin-top: 10px; position: relative; right: 130px;"
                                placeholder="ex: myname@example.com" required>
                        </div>
                    </div>
                </div>
                <div class="submit">
                    <button type="submit">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <script src="index.js"></script>
    <script>
        const form = document.querySelector('form');
        form.addEventListener('submit', function (event) {
            event.preventDefault();  

            const formData = new FormData(form); 

            fetch('http://localhost:4000/submit-review', {
                method: 'POST',
                body: formData,
            })
                .then(response => {
                    if (response.ok) {
                        window.location.href = '/reviews-page';
                    } else {
                        alert('Error submitting review. Please try again.');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Error submitting review');
                });
        });
    </script>


</body>

</html>